{
    "componentId": "geneea.nlp-analysis-v2",
    "payload": {
        "name": "Reviews & Responses analysis",
        "configuration": {
            "storage": {
                "input": {
                    "tables": [
                        {
                            "source_search": {
                                "key": "bdm.scaffold.table.tag",
                                "value": "bdm.keboola.transformation-01.pre_nlp_review_response"
                            },
                            "destination": "out.c-reviews.pre_nlp_review_response",
                            "changed_since": "-2 days",
                            "columns": [
                                "review_response_id",
                                "text",
                                "review_title"
                            ]
                        }
                    ]
                }
            },
            "parameters": {
                "language": "en",
                "columns": {
                    "id": [
                        "review_response_id"
                    ],
                    "title": [
                        "review_title"
                    ],
                    "lead": [
                        "review_title"
                    ],
                    "text": [
                        "text"
                    ]
                },
                "analysis_types": [
                    "tags",
                    "entities",
                    "sentiment",
                    "relations"
                ],
                "domain": "hcc",
                "use_beta": false,
                "correction": "none",
                "diacritization": "none",
                "advanced": []
            },
            "processors": {
                "after": [
                    {
                        "definition": {
                            "component": "keboola.processor-create-manifest"
                        },
                        "parameters": {
                            "delimiter": ",",
                            "enclosure": "\"",
                            "incremental": false,
                            "primary_key": [],
                            "columns_from": "header"
                        }
                    },
                    {
                        "definition": {
                            "component": "keboola.processor-add-metadata"
                        },
                        "parameters": {
                            "metadata": [
                                {
                                    "table": "analysis-result-documents",
                                    "key": "bdm.scaffold.table.tag",
                                    "value": "bdm.geneea.nlp-analysis-v2.analysis-result-documents"
                                },
                                {
                                    "table": "analysis-result-entities",
                                    "key": "bdm.scaffold.table.tag",
                                    "value": "bdm.geneea.nlp-analysis-v2.analysis-result-entities"
                                },
                                {
                                    "table": "analysis-result-relations",
                                    "key": "bdm.scaffold.table.tag",
                                    "value": "bdm.geneea.nlp-analysis-v2.analysis-result-relations"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    }
}
